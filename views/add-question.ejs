<%- include('sidebar'); %>

            <main>
                <h1>Add Question</h1>
                <form id="add-question-form">
                    <div class="form-group">
                        <label for="question">Question:</label>
                        <textarea id="question" name="question" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="option-a">Option A:</label>
                        <input type="text" id="option-a" name="option-a" required>
                    </div>
                    <div class="form-group">
                        <label for="option-b">Option B:</label>
                        <input type="text" id="option-b" name="option-b" required>
                    </div>
                    <div class="form-group">
                        <label for="option-c">Option C:</label>
                        <input type="text" id="option-c" name="option-c" required>
                    </div>
                    <div class="form-group">
                        <label for="option-d">Option D:</label>
                        <input type="text" id="option-d" name="option-d" required>
                    </div>
                    <div class="form-group">
                        <label for="correct-answer">Correct Answer:</label>
                        <select id="correct-answer" name="correct-answer" required>
                            <option value="">Select correct option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                        </select>
                    </div>
                    <button type="submit" class="submit-btn">Add Question</button>
                </form>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('add-question-form');
        
            form.addEventListener('submit', function(e) {
                e.preventDefault();
        
                const formData = new FormData(form);
                const questionData = Object.fromEntries(formData.entries());
        
                fetch('/admin/add-question', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(questionData),
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Question added successfully!');
                        form.reset();
                    } else {
                        alert('Error adding question: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while adding the question.');
                });
            });
        });
    </script>

</body>
</html>