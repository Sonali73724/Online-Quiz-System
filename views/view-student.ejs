<%- include('sidebar'); %>

            <main>
                <h1>View Students</h1>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Search students...">
                    <button id="search-btn"><i class="fas fa-search"></i></button>
                </div>
                <table id="students-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% students.forEach(student => { %>
                        <tr>
                            <td><%= student.name %></td>
                            <td><%= student.email %></td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
            </main>
        </div>
    </div>
   
   <script>
    const searchInput = document.getElementById('search-input');
    const searchBtn = document.getElementById('search-btn');
    const studentsTable = document.getElementById('students-table');
    searchInput.addEventListener('keyup', 
        () => {
            const searchText = searchInput.value.toLowerCase();
            const rows = studentsTable.getElementsByTagName('tr');
            for (let i = 1; i < rows.length; i++) {
                const nameCell = rows[i].getElementsByTagName('td')[0];
                const emailCell = rows[i].getElementsByTagName('td')[1];
                if (
                    nameCell.textContent.toLowerCase().includes(searchText) ||
                    emailCell.textContent.toLowerCase().includes(searchText)
                ) {
                    rows[i].style.display = '';
                } else {
                    rows[i].style.display = 'none';
                }
            }
        }
    );
   </script>
</body>
</html>